/* =============================================================================
   PRODUCTIVITY TRACKER - Styles
   ============================================================================= */

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
    background-color: #f5f5f7;
    color: #1d1d1f;
}

.container {
    display: flex;
    height: 100vh;
}

/* =============================================================================
   LEFT PANEL - Calendar (30%)
   ============================================================================= */
.left-panel {
    width: 30%;
    padding: 20px;
    border-right: 1px solid #d2d2d7;
    position: relative;
    background: white;
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

/* =============================================================================
   RIGHT PANEL - Content (70%)
   ============================================================================= */
.right-panel {
    width: 70%;
    padding: 20px;
    overflow-y: auto;
    background: white;
    display: flex;
    flex-direction: column;
}

/* =============================================================================
   HEADER BAR - Three Column Layout
   ============================================================================= */
.header-bar {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    padding: 15px 0;
    margin-bottom: 15px;
    border-bottom: 2px solid #e5e5e5;
    gap: 20px;
}

/* Left section - Date, Working on, Location */
.header-left {
    display: flex;
    flex-direction: column;
    gap: 6px;
    min-width: 240px;
}

.header-datetime {
    font-size: 15px;
    font-weight: 700;
    color: #1d1d1f;
    letter-spacing: -0.3px;
}

.header-working {
    font-size: 13px;
    color: #86868b;
    display: flex;
    align-items: center;
    gap: 6px;
}

.header-working span {
    color: #007aff;
    font-weight: 600;
}

.header-location {
    font-size: 12px;
    color: #6e6e73;
    display: flex;
    align-items: center;
    gap: 4px;
}

/* Center section - Tabs + Quote */
.header-center {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
}

/* Right section - Dark mode & Settings */
.header-right {
    display: flex;
    gap: 8px;
    align-items: center;
}

.header-icon-btn {
    width: 40px;
    height: 40px;
    border: none;
    background: #f5f5f7;
    border-radius: 10px;
    cursor: pointer;
    font-size: 18px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
    box-shadow: 0 2px 0 #e0e0e0;
}

.header-icon-btn:hover {
    background: #e8e8ed;
    transform: translateY(-1px);
    box-shadow: 0 3px 0 #e0e0e0;
}

.header-icon-btn:active {
    transform: translateY(2px);
    box-shadow: 0 0 0 #e0e0e0;
}

/* Legacy styles for backwards compatibility */
.current-datetime {
    text-align: center;
    font-size: 18px;
    font-weight: 600;
    margin-bottom: 10px;
    color: #1d1d1f;
}

.working-on-date {
    text-align: center;
    font-size: 14px;
    margin-bottom: 15px;
    color: #86868b;
}

.working-on-date span {
    color: #ff3b30;
    font-weight: 600;
}

/* =============================================================================
   3D DUOLINGO-STYLE BUTTON SYSTEM
   ============================================================================= */

/* Base 3D button style */
.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 12px 24px;
    border: none;
    border-radius: 12px;
    font-size: 15px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.1s ease;
    text-decoration: none;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    position: relative;
    user-select: none;
}

/* Primary button - Green (Log Day, Save) */
.btn-primary,
.btn-save {
    background: #58cc02;
    color: white;
    box-shadow: 0 4px 0 #46a302, 0 6px 10px rgba(0,0,0,0.15);
}

.btn-primary:hover,
.btn-save:hover {
    background: #61d802;
    transform: translateY(-2px);
    box-shadow: 0 6px 0 #46a302, 0 8px 15px rgba(0,0,0,0.2);
}

.btn-primary:active,
.btn-save:active {
    transform: translateY(4px);
    box-shadow: 0 0 0 #46a302, 0 2px 5px rgba(0,0,0,0.1);
}

/* Secondary button - Gray */
.btn-secondary {
    background: #e5e5e5;
    color: #4b4b4b;
    box-shadow: 0 4px 0 #afafaf, 0 6px 10px rgba(0,0,0,0.1);
}

.btn-secondary:hover {
    background: #f0f0f0;
    transform: translateY(-2px);
    box-shadow: 0 6px 0 #afafaf, 0 8px 15px rgba(0,0,0,0.15);
}

.btn-secondary:active {
    transform: translateY(4px);
    box-shadow: 0 0 0 #afafaf, 0 2px 5px rgba(0,0,0,0.1);
}

/* Danger button - Red */
.btn-danger {
    background: #ff4b4b;
    color: white;
    box-shadow: 0 4px 0 #cc3d3d, 0 6px 10px rgba(0,0,0,0.15);
}

.btn-danger:hover {
    background: #ff5c5c;
    transform: translateY(-2px);
    box-shadow: 0 6px 0 #cc3d3d, 0 8px 15px rgba(0,0,0,0.2);
}

.btn-danger:active {
    transform: translateY(4px);
    box-shadow: 0 0 0 #cc3d3d, 0 2px 5px rgba(0,0,0,0.1);
}

/* Export button - Blue */
.btn-export {
    background: #1cb0f6;
    color: white;
    box-shadow: 0 4px 0 #1899d6, 0 6px 10px rgba(0,0,0,0.15);
}

.btn-export:hover {
    background: #2dc0ff;
    transform: translateY(-2px);
    box-shadow: 0 6px 0 #1899d6, 0 8px 15px rgba(0,0,0,0.2);
}

.btn-export:active {
    transform: translateY(4px);
    box-shadow: 0 0 0 #1899d6, 0 2px 5px rgba(0,0,0,0.1);
}

/* Import button - Orange */
.btn-import {
    background: #ff9600;
    color: white;
    box-shadow: 0 4px 0 #cc7800, 0 6px 10px rgba(0,0,0,0.15);
}

.btn-import:hover {
    background: #ffa31a;
    transform: translateY(-2px);
    box-shadow: 0 6px 0 #cc7800, 0 8px 15px rgba(0,0,0,0.2);
}

.btn-import:active {
    transform: translateY(4px);
    box-shadow: 0 0 0 #cc7800, 0 2px 5px rgba(0,0,0,0.1);
}

/* Add row button - Purple/Blue */
.btn-add-row {
    background: #ce82ff;
    color: white;
    box-shadow: 0 4px 0 #a568cc, 0 6px 10px rgba(0,0,0,0.15);
}

.btn-add-row:hover {
    background: #d894ff;
    transform: translateY(-2px);
    box-shadow: 0 6px 0 #a568cc, 0 8px 15px rgba(0,0,0,0.2);
}

.btn-add-row:active {
    transform: translateY(4px);
    box-shadow: 0 0 0 #a568cc, 0 2px 5px rgba(0,0,0,0.1);
}

/* Navigation buttons (calendar arrows) - 3D style */
.btn-nav {
    background: #e5e5e5;
    color: #4b4b4b;
    padding: 8px 14px;
    font-size: 14px;
    font-weight: 700;
    border-radius: 10px;
    box-shadow: 0 3px 0 #afafaf;
    border: none;
    cursor: pointer;
    transition: all 0.1s ease;
}

.btn-nav:hover {
    background: #f0f0f0;
    transform: translateY(-1px);
    box-shadow: 0 4px 0 #afafaf;
}

.btn-nav:active {
    transform: translateY(3px);
    box-shadow: 0 0 0 #afafaf;
}

/* Small action buttons (add/delete in table rows) - 3D */
.btn-add,
.add-btn {
    background: #58cc02;
    color: white;
    width: 32px;
    height: 32px;
    padding: 0;
    font-size: 18px;
    font-weight: bold;
    border-radius: 8px;
    border: none;
    cursor: pointer;
    box-shadow: 0 3px 0 #46a302;
    transition: all 0.1s ease;
}

.btn-add:hover,
.add-btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 0 #46a302;
}

.btn-add:active,
.add-btn:active {
    transform: translateY(3px);
    box-shadow: 0 0 0 #46a302;
}

.btn-delete,
.delete-btn {
    background: #ff4b4b;
    color: white;
    width: 32px;
    height: 32px;
    padding: 0;
    font-size: 18px;
    font-weight: bold;
    border-radius: 8px;
    border: none;
    cursor: pointer;
    box-shadow: 0 3px 0 #cc3d3d;
    transition: all 0.1s ease;
}

.btn-delete:hover,
.delete-btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 0 #cc3d3d;
}

.btn-delete:active,
.delete-btn:active {
    transform: translateY(3px);
    box-shadow: 0 0 0 #cc3d3d;
}

/* =============================================================================
   TAB CAROUSEL - 3D Style
   ============================================================================= */
.tab-carousel {
    display: flex;
    justify-content: center;
    gap: 10px;
}

.tab-btn {
    padding: 12px 24px;
    border: none;
    background: #e5e5e5;
    cursor: pointer;
    border-radius: 12px;
    font-size: 14px;
    font-weight: 700;
    transition: all 0.1s ease;
    box-shadow: 0 4px 0 #afafaf;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.tab-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 0 #afafaf;
}

.tab-btn:active {
    transform: translateY(4px);
    box-shadow: 0 0 0 #afafaf;
}

.tab-btn.active {
    background: #1cb0f6;
    color: white;
    box-shadow: 0 4px 0 #1899d6;
}

.tab-btn.active:hover {
    box-shadow: 0 6px 0 #1899d6;
}

.tab-content {
    display: none;
    padding: 10px 0;
    flex: 1;
    overflow-y: auto;
}

.tab-content.active {
    display: block;
}

/* =============================================================================
   TIME CONTROLS
   ============================================================================= */
.time-controls {
    margin-bottom: 20px;
    text-align: center;
    display: flex;
    justify-content: center;
    gap: 30px;
}

.start-time-selector, .time-format-selector {
    display: flex;
    align-items: center;
}

.start-time-selector label, .time-format-selector label {
    margin-right: 10px;
    font-weight: 600;
    color: #4b4b4b;
}

.start-time-selector select, .time-format-selector select {
    padding: 8px 12px;
    border: 2px solid #e5e5e5;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 500;
    background: white;
    cursor: pointer;
}

.start-time-selector select:focus, .time-format-selector select:focus {
    border-color: #1cb0f6;
    outline: none;
}

/* =============================================================================
   YEAR NAVIGATION - [Year/Month] [◄] [2026] [►]
   ============================================================================= */
.year-nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 15px;
    margin-bottom: 10px;
    flex-shrink: 0;
}

/* Year selector group - arrows and year number */
.year-selector-group {
    display: flex;
    align-items: center;
    gap: 8px;
    position: relative;
}

.year-selector-group #currentYear {
    font-weight: 700;
    cursor: pointer;
    color: #1d1d1f;
    font-size: 18px;
    padding: 5px 12px;
    border-radius: 8px;
    transition: background 0.2s;
    min-width: 60px;
    text-align: center;
}

.year-selector-group #currentYear:hover {
    background: #f0f0f0;
}

/* Year View Toggle Button */
.year-view-toggle {
    background: #1cb0f6 !important;
    color: white !important;
    box-shadow: 0 3px 0 #1899d6 !important;
    padding: 8px 16px !important;
}

.year-view-toggle:hover {
    background: #2dc0ff !important;
    box-shadow: 0 4px 0 #1899d6 !important;
}

.year-view-toggle.active {
    background: #58cc02 !important;
    box-shadow: 0 3px 0 #46a302 !important;
}

.year-view-toggle.active:hover {
    background: #61d802 !important;
    box-shadow: 0 4px 0 #46a302 !important;
}

/* =============================================================================
   MONTH NAVIGATION
   ============================================================================= */
.month-nav {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 10px;
    margin-bottom: 10px;
}

.month-nav button {
    background: #e5e5e5;
    border: none;
    padding: 8px 14px;
    cursor: pointer;
    font-size: 14px;
    font-weight: 700;
    border-radius: 10px;
    box-shadow: 0 3px 0 #afafaf;
    transition: all 0.1s ease;
}

.month-nav button:hover {
    background: #f0f0f0;
    transform: translateY(-1px);
    box-shadow: 0 4px 0 #afafaf;
}

.month-nav button:active {
    transform: translateY(3px);
    box-shadow: 0 0 0 #afafaf;
}

.month-nav div {
    margin: 0 15px;
    font-weight: 700;
    cursor: pointer;
    font-size: 16px;
}

/* =============================================================================
   MONTH HEADER - Centered above each calendar section
   ============================================================================= */
.month-header {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 3px;
    margin-bottom: 2px;
    gap: 6px;
    flex-shrink: 0;
}

.month-header.with-nav {
    justify-content: center;
}

.month-header .btn-nav {
    padding: 4px 10px;
    font-size: 12px;
}

.month-label {
    font-size: 12px;
    font-weight: 600;
    color: #86868b;
    text-align: center;
}

.month-section.current .month-label {
    font-weight: 700;
    color: #1d1d1f;
    font-size: 13px;
}

/* =============================================================================
   POPUPS
   ============================================================================= */
.month-selector {
    position: absolute;
    background: white;
    border: none;
    padding: 15px;
    z-index: 10;
    box-shadow: 0 4px 20px rgba(0,0,0,0.15);
    border-radius: 12px;
    left: 50%;
    transform: translateX(-50%);
    top: 50px;
}

/* Year selector - positioned relative to the year-selector-group */
.year-selector-popup {
    position: absolute;
    background: white;
    border: none;
    padding: 15px;
    z-index: 10;
    box-shadow: 0 4px 20px rgba(0,0,0,0.15);
    border-radius: 12px;
    left: 50%;
    transform: translateX(-50%);
    top: 100%;
    margin-top: 8px;
    min-width: 100px;
}

.year-selector-popup select {
    width: 100%;
    min-width: 80px;
    padding: 8px;
    border-radius: 8px;
    border: 2px solid #e5e5e5;
    font-size: 14px;
    font-weight: 500;
}

.month-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 8px;
}

.month-option {
    padding: 10px;
    text-align: center;
    cursor: pointer;
    font-size: 13px;
    font-weight: 600;
    border-radius: 8px;
    transition: all 0.15s ease;
}

.month-option:hover {
    background: #f0f0f0;
}

.month-option.current {
    background: #1cb0f6;
    color: white;
}

/* =============================================================================
   CALENDAR CONTAINER - Apple Style
   ============================================================================= */
.calendar-container {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    min-height: 0;
}

/* Year View - Grid of all 12 months */
.calendar-year-view {
    display: flex;
    flex-direction: column;
    flex: 1;
    padding: 10px;
    overflow-y: auto;
    min-height: 0;
}

.calendar-year-view.hidden {
    display: none;
}

.year-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 15px;
    flex: 1;
}

.year-month-card {
    background: #f8f8f8;
    border-radius: 12px;
    padding: 10px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.year-month-card:hover {
    background: #e8e8e8;
    transform: scale(1.02);
}

.year-month-card .mini-month-label {
    font-size: 13px;
    font-weight: 700;
    color: #1d1d1f;
    margin-bottom: 8px;
    text-align: center;
}

.year-month-card .mini-calendar {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 1px;
    font-size: 9px;
}

.year-month-card .mini-day {
    text-align: center;
    padding: 2px;
    color: #4b4b4b;
}

.year-month-card .mini-day.sunday {
    color: #ff3b30;
}

.year-month-card .mini-day.other-month {
    color: #d2d2d7;
}

/* Month View - 3 months */
.calendar-month-view {
    display: none;
    flex-direction: column;
    flex: 1;
    min-height: 0;
}

.calendar-month-view.active {
    display: flex;
}

.month-section {
    flex: 1;
    margin-bottom: 2px;
    padding: 4px;
    min-height: 0;
    max-height: calc(33.33% - 4px);
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

.month-section.current {
    background: #f8f8f8;
    border-radius: 12px;
}

.month-section.prev, .month-section.next {
    opacity: 0.5;
}

.month-calendar {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    grid-auto-rows: 1fr;
    gap: 2px;
    text-align: center;
    flex: 1;
    min-height: 0;
    padding: 2px;
}

.day-header {
    font-weight: 700;
    font-size: 9px;
    color: #86868b;
    padding: 2px;
    text-transform: uppercase;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* Sunday header in red */
.day-header.sunday {
    color: #ff3b30;
}

.calendar-day {
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    font-size: 11px;
    font-weight: 500;
    transition: all 0.15s ease;
    border-radius: 50%;
    width: 24px;
    height: 24px;
    margin: auto;
}

.calendar-day:hover {
    background: #e5e5e5;
}

/* Sunday dates in red */
.calendar-day.sunday {
    color: #ff3b30;
}

/* Today - blue circle */
.calendar-day.today {
    background: #007aff;
    color: white;
    font-weight: 700;
}

/* Selected - dark circle */
.calendar-day.selected {
    background: #1d1d1f;
    color: white;
}

/* Logged day - green circle */
.calendar-day.logged {
    background: #34c759;
    color: white;
}

/* Other month days - faded */
.calendar-day.other-month {
    color: #d2d2d7;
}

.calendar-day.other-month.sunday {
    color: #ffb3b0;
}

/* Priority overrides for special states on Sundays */
.calendar-day.today.sunday,
.calendar-day.selected.sunday,
.calendar-day.logged.sunday {
    color: white;
}

/* Hover states for special days */
.calendar-day.today:hover {
    background: #0066cc;
}

.calendar-day.selected:hover {
    background: #333;
}

.calendar-day.logged:hover {
    background: #2da44e;
}


/* =============================================================================
   TIMETABLE (shared by timetable and fitness table)
   ============================================================================= */
.timetable {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
    border: 2px solid #e5e5e5;
    border-radius: 12px;
    margin-bottom: 15px;
    overflow: hidden;
}

.timetable th {
    background: #f5f5f7;
    padding: 8px 6px;
    text-align: center;
    border-bottom: 2px solid #e5e5e5;
    font-size: 11px;
    font-weight: 700;
    color: #4b4b4b;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.timetable td {
    padding: 6px;
    border-bottom: 1px solid #e5e5e5;
    vertical-align: middle;
}

.timetable tr:last-child td {
    border-bottom: none;
}

/* Centered columns for fitness table */
.fitness-container .timetable th,
.fitness-container .timetable td {
    text-align: center;
}

.start-time {
    font-weight: 600;
    width: 90px;
    white-space: nowrap;
    color: #1d1d1f;
    text-align: center;
}

.timetable input {
    width: 100%;
    padding: 6px 8px;
    border: 2px solid transparent;
    background: #f5f5f7;
    font-size: 13px;
    outline: none;
    border-radius: 6px;
    transition: all 0.2s ease;
    font-weight: 500;
}

.timetable input:hover {
    background: #e8e8ed;
}

.timetable input:focus {
    background: white;
    border-color: #1cb0f6;
}

/* Duration column - wider for better visibility */
.timetable th:nth-child(2),
.timetable td:nth-child(2) {
    width: 100px;
    min-width: 90px;
    max-width: 110px;
}

.duration {
    width: 85px !important;
    text-align: center;
}

/* Task column - flexible width */
.timetable .task {
    min-width: 150px;
}

/* Auto-fill row styling - minimal, just indicates it's auto-calculated */
.autofill-row {
    /* No special background - blends with other rows */
}

.autofill-row .task {
    font-style: italic;
}

.autofill-row .duration {
    font-style: italic;
}

/* Comment column */
.timetable .comment {
    width: 100%;
    min-width: 120px;
}

/* Actions column - compact */
.timetable .actions {
    width: 65px;
    min-width: 65px;
    max-width: 70px;
    text-align: center;
    white-space: nowrap;
}

.row-actions {
    width: 65px;
    min-width: 65px;
    max-width: 70px;
    text-align: center;
    white-space: nowrap;
}

.timetable .actions .btn {
    margin: 0 2px;
}

/* Smaller add/delete buttons in timetable rows */
.timetable .add-btn,
.timetable .delete-btn {
    width: 28px;
    height: 28px;
    font-size: 16px;
}

/* =============================================================================
   COMPACT TABLE (for Calories and Fitness)
   ============================================================================= */
.compact-table {
    font-size: 13px;
}

.compact-table th {
    padding: 8px 6px;
    font-size: 11px;
}

.compact-table td {
    padding: 6px;
}

.compact-table input {
    padding: 6px 8px;
    font-size: 13px;
}

.compact-table .actions {
    width: 70px;
}

/* Smaller buttons for compact tables */
.compact-table .add-btn,
.compact-table .delete-btn {
    width: 26px;
    height: 26px;
    font-size: 14px;
}

/* Total row in footer */
.total-row {
    background: #f5f5f7;
    font-weight: 600;
}

.total-row td {
    padding: 10px 6px;
    border-top: 2px solid #e5e5e5;
}

/* Select elements in compact tables */
.compact-table select {
    width: 100%;
    padding: 6px 8px;
    border: 2px solid transparent;
    background: #f5f5f7;
    font-size: 13px;
    outline: none;
    border-radius: 6px;
    transition: all 0.2s ease;
    font-weight: 500;
    cursor: pointer;
}

.compact-table select:hover {
    background: #e8e8ed;
}

.compact-table select:focus {
    background: white;
    border-color: #1cb0f6;
}

/* Centered columns for calories and fitness tables */
.calories-container .timetable th,
.calories-container .timetable td,
.fitness-container .timetable th,
.fitness-container .timetable td {
    text-align: center;
}

/* =============================================================================
   CALORIES TABLE COLUMN WIDTHS
   ============================================================================= */
/* Food Item - reduced */
.calories-container .timetable th:nth-child(1),
.calories-container .timetable td:nth-child(1) {
    width: 140px;
    min-width: 120px;
}

/* Type - increased */
.calories-container .timetable th:nth-child(2),
.calories-container .timetable td:nth-child(2) {
    width: 100px;
    min-width: 90px;
}

/* Class */
.calories-container .timetable th:nth-child(3),
.calories-container .timetable td:nth-child(3) {
    width: 90px;
    min-width: 80px;
}

/* Calories */
.calories-container .timetable th:nth-child(4),
.calories-container .timetable td:nth-child(4) {
    width: 90px;
    min-width: 80px;
}

/* Comment - reduced */
.calories-container .timetable th:nth-child(5),
.calories-container .timetable td:nth-child(5) {
    width: 100px;
    min-width: 80px;
}

/* Actions */
.calories-container .timetable th:nth-child(6),
.calories-container .timetable td:nth-child(6) {
    width: 65px;
    min-width: 60px;
}

/* =============================================================================
   FITNESS TABLE COLUMN WIDTHS (10 columns: Exercise, Sets, Reps, Weight, Body Wt, Steps, Distance, Burnt, Comment, Actions)
   ============================================================================= */
/* Exercise */
.fitness-container .timetable th:nth-child(1),
.fitness-container .timetable td:nth-child(1) {
    width: 110px;
    min-width: 90px;
}

/* Sets - compact */
.fitness-container .timetable th:nth-child(2),
.fitness-container .timetable td:nth-child(2) {
    width: 50px;
    min-width: 45px;
}

/* Reps - same as Sets */
.fitness-container .timetable th:nth-child(3),
.fitness-container .timetable td:nth-child(3) {
    width: 50px;
    min-width: 45px;
}

/* Weight (kg) */
.fitness-container .timetable th:nth-child(4),
.fitness-container .timetable td:nth-child(4) {
    width: 70px;
    min-width: 60px;
}

/* Body Weight */
.fitness-container .timetable th:nth-child(5),
.fitness-container .timetable td:nth-child(5) {
    width: 75px;
    min-width: 65px;
}

/* Steps */
.fitness-container .timetable th:nth-child(6),
.fitness-container .timetable td:nth-child(6) {
    width: 65px;
    min-width: 55px;
}

/* Distance (km) */
.fitness-container .timetable th:nth-child(7),
.fitness-container .timetable td:nth-child(7) {
    width: 80px;
    min-width: 70px;
}

/* Burnt (kcal) */
.fitness-container .timetable th:nth-child(8),
.fitness-container .timetable td:nth-child(8) {
    width: 70px;
    min-width: 60px;
}

/* Comment */
.fitness-container .timetable th:nth-child(9),
.fitness-container .timetable td:nth-child(9) {
    width: 80px;
    min-width: 60px;
}

/* Actions */
.fitness-container .timetable th:nth-child(10),
.fitness-container .timetable td:nth-child(10) {
    width: 65px;
    min-width: 60px;
}

/* =============================================================================
   TAB-SPECIFIC CLEAR BUTTON
   ============================================================================= */
.tab-clear {
    margin-top: 15px;
    text-align: center;
}

/* =============================================================================
   COMMON CONTROLS - Always at bottom of right panel
   ============================================================================= */
.common-controls {
    margin-top: auto;
    padding-top: 20px;
    border-top: 2px solid #e5e5e5;
    text-align: center;
    display: flex;
    justify-content: center;
    gap: 12px;
    flex-wrap: wrap;
    flex-shrink: 0;
}

/* Legacy controls class */
.controls {
    margin-top: 25px;
    text-align: center;
    display: flex;
    justify-content: center;
    gap: 12px;
    flex-wrap: wrap;
}

/* =============================================================================
   ROW STYLING
   ============================================================================= */

/* Buffer Row Styling */
.buffer-row .task {
    color: #ff9500 !important;
    font-weight: 700 !important;
}

/* =============================================================================
   CATEGORY SYSTEM
   ============================================================================= */
.category-cell {
    width: 180px;
    min-width: 160px;
}

.category-container {
    position: relative;
    width: 100%;
}

.category-select {
    width: 100%;
    padding: 8px 10px;
    border: 2px solid #e5e5e5;
    border-radius: 8px;
    background-color: white;
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
}

.category-select:focus {
    outline: none;
    border-color: #1cb0f6;
}

.category-custom {
    width: 100%;
    padding: 8px 10px;
    border: 2px solid #1cb0f6;
    border-radius: 8px;
    font-size: 13px;
    font-weight: 500;
    background-color: #f0f9ff;
}

.category-custom:focus {
    outline: none;
    border-color: #0a84ff;
}

.category-select option {
    padding: 8px;
    font-size: 13px;
    background-color: white;
    color: #1d1d1f;
}

.category-select option:hover,
.category-select option:focus {
    background-color: #f0f0f0;
}

/* Selected state - blue border accent on the cell */
.category-select[data-selected="true"] {
    font-weight: 700;
    border-color: #1cb0f6;
    background-color: #e8f4fd;
}

/* =============================================================================
   DIARY TAB
   ============================================================================= */
.diary-container {
    width: 100%;
    max-width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
}

.diary-container h3,
.diary-hint {
    display: none;
}

#diaryContent {
    width: 100%;
    flex: 1;
    min-height: 400px;
    padding: 20px;
    border: 2px solid #e5e5e5;
    border-radius: 12px;
    font-size: 15px;
    line-height: 1.6;
    resize: none;
    font-family: inherit;
}

#diaryContent:focus {
    outline: none;
    border-color: #1cb0f6;
}

/* =============================================================================
   CALORIES & WEIGHT TAB
   ============================================================================= */
.calories-container {
    width: 100%;
}

.calories-container h3 {
    margin-bottom: 20px;
    color: #1d1d1f;
    font-weight: 700;
}

.calorie-form {
    background: #f5f5f7;
    padding: 25px;
    border-radius: 16px;
}

.form-row {
    display: flex;
    align-items: center;
    margin-bottom: 18px;
}

.form-row label {
    width: 130px;
    font-weight: 600;
    color: #4b4b4b;
}

.form-row input {
    flex: 1;
    padding: 12px;
    border: 2px solid #e5e5e5;
    border-radius: 10px;
    font-size: 15px;
    font-weight: 500;
    background: white;
}

.form-row input:focus {
    outline: none;
    border-color: #1cb0f6;
}

.form-row .unit {
    margin-left: 12px;
    color: #86868b;
    font-size: 14px;
    font-weight: 600;
    width: 40px;
}

/* =============================================================================
   FITNESS TAB
   ============================================================================= */
.fitness-container {
    width: 100%;
}

.fitness-container h3 {
    margin-bottom: 20px;
    color: #1d1d1f;
    font-weight: 700;
}

/* Fitness table uses .timetable class for consistent styling */
.fitness-container .timetable input {
    text-align: center;
}

.fitness-container .timetable input[type="text"] {
    text-align: left;
}

/* =============================================================================
   TAB CONTROLS
   ============================================================================= */
.tab-controls {
    margin-top: 25px;
    text-align: center;
    display: flex;
    justify-content: center;
    gap: 12px;
}

/* =============================================================================
   RESPONSIVE
   ============================================================================= */
@media (max-width: 1024px) {
    .tab-carousel {
        flex-wrap: wrap;
    }

    .tab-btn {
        padding: 10px 18px;
        font-size: 12px;
    }
}

@media (max-width: 768px) {
    .container {
        flex-direction: column;
        height: auto;
    }

    .left-panel, .right-panel {
        width: 100%;
    }

    .left-panel {
        border-right: none;
        border-bottom: 1px solid #d2d2d7;
    }

    .header-bar {
        flex-direction: column;
        gap: 15px;
    }

    .header-left {
        order: 1;
    }

    .header-center {
        order: 2;
    }

    .header-right {
        order: 0;
        position: absolute;
        right: 20px;
        top: 15px;
    }

    .tab-carousel {
        gap: 8px;
        flex-wrap: wrap;
    }

    .tab-btn {
        padding: 10px 16px;
        font-size: 11px;
    }

    .time-controls {
        flex-direction: column;
        gap: 12px;
    }

    .timetable {
        font-size: 12px;
    }

    .timetable th, .timetable td {
        padding: 8px;
    }

    .controls {
        flex-direction: column;
        align-items: center;
    }

    .controls .btn {
        width: 100%;
        max-width: 220px;
    }

    .year-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* =============================================================================
   DARK MODE
   ============================================================================= */
body.dark-mode {
    background-color: #1a1a1a;
    color: #e5e5e5;
}

body.dark-mode .left-panel,
body.dark-mode .right-panel {
    background: #1a1a1a;
    border-color: #333;
}

body.dark-mode .header-bar {
    border-color: #333;
}

body.dark-mode .header-datetime {
    color: #ffffff;
}

body.dark-mode .header-working {
    color: #aaa;
}

body.dark-mode .header-working span {
    color: #5ac8fa;
}

body.dark-mode .header-location {
    color: #999;
}

body.dark-mode .tab-btn {
    background: #2a2a2a;
    color: #e5e5e5;
    box-shadow: 0 4px 0 #1a1a1a;
}

body.dark-mode .tab-btn:hover {
    background: #333;
}

body.dark-mode .tab-btn.active {
    background: #1cb0f6;
    color: white;
}

body.dark-mode .header-icon-btn {
    background: #2a2a2a;
    box-shadow: 0 2px 0 #1a1a1a;
}

body.dark-mode .header-icon-btn:hover {
    background: #333;
}

body.dark-mode .timetable {
    border-color: #333;
}

body.dark-mode .timetable th {
    background: #2a2a2a;
    color: #e5e5e5;
    border-color: #333;
}

body.dark-mode .timetable td {
    border-color: #333;
}

body.dark-mode .timetable input {
    background: #2a2a2a;
    color: #e5e5e5;
    border-color: transparent;
}

body.dark-mode .timetable input:focus {
    background: #333;
    border-color: #1cb0f6;
}

body.dark-mode .total-row {
    background: #2a2a2a;
}

body.dark-mode .autofill-row {
    /* No special background in dark mode either */
}

body.dark-mode .btn-secondary {
    background: #2a2a2a;
    color: #e5e5e5;
    box-shadow: 0 4px 0 #1a1a1a;
}

body.dark-mode .common-controls {
    border-color: #333;
}

body.dark-mode .time-controls select {
    background: #2a2a2a;
    color: #e5e5e5;
    border-color: #333;
}

body.dark-mode .year-nav {
    color: #e5e5e5;
}

body.dark-mode .year-selector-group #currentYear {
    color: #e5e5e5;
}

body.dark-mode .btn-nav {
    background: #2a2a2a;
    color: #e5e5e5;
    box-shadow: 0 3px 0 #1a1a1a;
}

body.dark-mode .month-calendar {
    color: #e5e5e5;
}

body.dark-mode .calendar-day {
    color: #e5e5e5;
}

body.dark-mode .calendar-day.other-month {
    color: #555;
}

body.dark-mode .calendar-day.sunday {
    color: #ff6b6b;
}

body.dark-mode .calendar-day.other-month.sunday {
    color: #8b4545;
}

body.dark-mode .calendar-day:hover {
    background: #333;
}

body.dark-mode .year-month-card {
    background: #2a2a2a;
}

body.dark-mode .year-month-card:hover {
    background: #333;
}

body.dark-mode .year-month-card .mini-month-label {
    color: #ffffff;
}

body.dark-mode .month-section.current {
    background: #2a2a2a;
}

body.dark-mode .month-label {
    color: #e5e5e5;
}

body.dark-mode .month-section.current .month-label {
    color: #ffffff;
    font-weight: 700;
}

body.dark-mode .day-header {
    color: #aaa;
}

body.dark-mode .day-header.sunday {
    color: #ff6b6b;
}

body.dark-mode #diaryContent {
    background: #2a2a2a;
    color: #e5e5e5;
    border-color: #333;
}

body.dark-mode .diary-hint,
body.dark-mode .diary-container h3 {
    color: #e5e5e5;
}

body.dark-mode .compact-table select {
    background: #2a2a2a;
    color: #e5e5e5;
}

body.dark-mode .year-selector-popup,
body.dark-mode .month-selector {
    background: #2a2a2a;
    border-color: #333;
}

body.dark-mode .year-selector-popup select {
    background: #333;
    color: #e5e5e5;
    border-color: #444;
}

/* Dark mode - All text elements */
body.dark-mode .start-time {
    color: #e5e5e5;
}

body.dark-mode .start-time-selector label,
body.dark-mode .time-format-selector label {
    color: #e5e5e5;
}

body.dark-mode .category-select {
    background: #2a2a2a;
    color: #e5e5e5;
    border-color: #444;
}

body.dark-mode .category-select:focus {
    border-color: #1cb0f6;
}

body.dark-mode .category-custom {
    background: #333;
    color: #e5e5e5;
    border-color: #1cb0f6;
}

body.dark-mode .category-select option {
    background-color: #2a2a2a;
    color: #e5e5e5;
}

body.dark-mode .category-select option:hover,
body.dark-mode .category-select option:focus {
    background-color: #3a3a3a;
}

body.dark-mode .category-select[data-selected="true"] {
    background-color: #1a3a4a;
}

body.dark-mode .year-month-card .mini-day {
    color: #e5e5e5;
}

body.dark-mode .year-month-card .mini-day.sunday {
    color: #ff6b6b;
}

body.dark-mode .year-month-card .mini-day.other-month {
    color: #555;
}

body.dark-mode .month-option {
    color: #e5e5e5;
}

body.dark-mode .month-option:hover {
    background: #333;
}

body.dark-mode .month-option.current {
    background: #1cb0f6;
    color: white;
}

/* Dark mode - 3D Button shadows with better contrast */
body.dark-mode .tab-btn {
    box-shadow: 0 4px 0 #000000, 0 6px 10px rgba(0,0,0,0.4);
}

body.dark-mode .tab-btn:hover {
    box-shadow: 0 6px 0 #000000, 0 8px 15px rgba(0,0,0,0.5);
}

body.dark-mode .tab-btn:active {
    box-shadow: 0 0 0 #000000;
}

body.dark-mode .btn-nav {
    box-shadow: 0 3px 0 #000000;
}

body.dark-mode .btn-nav:hover {
    box-shadow: 0 4px 0 #000000;
}

body.dark-mode .btn-nav:active {
    box-shadow: 0 0 0 #000000;
}

body.dark-mode .header-icon-btn {
    box-shadow: 0 2px 0 #000000;
}

body.dark-mode .header-icon-btn:hover {
    box-shadow: 0 3px 0 #000000;
}

body.dark-mode .header-icon-btn:active {
    box-shadow: 0 0 0 #000000;
}

body.dark-mode .btn-secondary {
    box-shadow: 0 4px 0 #000000, 0 6px 10px rgba(0,0,0,0.4);
}

body.dark-mode .btn-secondary:hover {
    box-shadow: 0 6px 0 #000000, 0 8px 15px rgba(0,0,0,0.5);
}

body.dark-mode .btn-secondary:active {
    box-shadow: 0 0 0 #000000;
}

/* Dark mode - Table text */
body.dark-mode .total-row td {
    color: #e5e5e5;
}

body.dark-mode #totalDuration,
body.dark-mode #durationStatus,
body.dark-mode #totalCalories,
body.dark-mode #avgBodyWeight,
body.dark-mode #totalCaloriesBurnt {
    color: #e5e5e5;
}

/* Dark mode - Fitness & Calories container headings */
body.dark-mode .fitness-container h3,
body.dark-mode .calories-container h3 {
    color: #e5e5e5;
}

/* Dark mode - Form labels */
body.dark-mode .form-row label {
    color: #e5e5e5;
}

body.dark-mode .form-row input {
    background: #2a2a2a;
    color: #e5e5e5;
    border-color: #444;
}

body.dark-mode .form-row input:focus {
    border-color: #1cb0f6;
}

body.dark-mode .form-row .unit {
    color: #aaa;
}

body.dark-mode .calorie-form {
    background: #2a2a2a;
}

/* =============================================================================
   QUOTE SECTION (below tabs, inside header)
   ============================================================================= */
.quote-section {
    text-align: center;
    font-style: italic;
    font-size: 14px;
    color: #6c757d;
    padding: 8px 20px;
    margin-top: 5px;
    line-height: 1.5;
}

body.dark-mode .quote-section {
    color: #adb5bd;
}

/* =============================================================================
   MODERN SCROLLBAR
   ============================================================================= */
/* Webkit browsers (Chrome, Safari, Edge) */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    background: #c1c1c1;
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: #a8a8a8;
}

/* Dark mode scrollbar */
body.dark-mode ::-webkit-scrollbar-thumb {
    background: #555;
}

body.dark-mode ::-webkit-scrollbar-thumb:hover {
    background: #666;
}

/* Firefox */
* {
    scrollbar-width: thin;
    scrollbar-color: #c1c1c1 transparent;
}

body.dark-mode * {
    scrollbar-color: #555 transparent;
}

/* =============================================================================
   LOAD TEMPLATE BUTTON - Purple Theme
   ============================================================================= */
.btn-template {
    background: #9b59b6;
    color: white;
    box-shadow: 0 4px 0 #7d3c98, 0 6px 10px rgba(0,0,0,0.15);
}

.btn-template:hover {
    background: #a569bd;
    transform: translateY(-2px);
    box-shadow: 0 6px 0 #7d3c98, 0 8px 15px rgba(0,0,0,0.2);
}

.btn-template:active {
    transform: translateY(4px);
    box-shadow: 0 0 0 #7d3c98, 0 2px 5px rgba(0,0,0,0.1);
}

/* =============================================================================
   TEMPLATE MODAL
   ============================================================================= */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    backdrop-filter: blur(4px);
}

.modal-content {
    background: white;
    border-radius: 16px;
    padding: 30px;
    max-width: 450px;
    width: 90%;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    animation: modalSlideIn 0.2s ease-out;
}

@keyframes modalSlideIn {
    from {
        opacity: 0;
        transform: translateY(-20px) scale(0.95);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

.modal-content h3 {
    margin: 0 0 8px 0;
    font-size: 20px;
    font-weight: 700;
    color: #1d1d1f;
}

.modal-content .template-day-info {
    color: #9b59b6;
    font-weight: 600;
    font-size: 16px;
    margin-bottom: 20px;
}

.template-options {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-bottom: 20px;
}

.template-checkbox {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 15px;
    background: #f5f5f7;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.template-checkbox:hover {
    background: #e8e8ed;
}

.template-checkbox input[type="checkbox"] {
    width: 20px;
    height: 20px;
    accent-color: #9b59b6;
    cursor: pointer;
}

.template-checkbox label {
    font-weight: 600;
    font-size: 15px;
    color: #1d1d1f;
    cursor: pointer;
    flex: 1;
}

.template-checkbox .template-desc {
    font-size: 12px;
    color: #86868b;
    font-weight: 400;
}

.modal-warning {
    background: #fff3cd;
    color: #856404;
    padding: 12px 15px;
    border-radius: 8px;
    font-size: 13px;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    gap: 10px;
}

.modal-warning::before {
    content: "⚠️";
    font-size: 16px;
}

.modal-buttons {
    display: flex;
    gap: 12px;
    justify-content: flex-end;
}

.modal-buttons .btn {
    padding: 10px 20px;
    font-size: 14px;
}

/* Dark mode modal styles */
body.dark-mode .modal-content {
    background: #2a2a2a;
}

body.dark-mode .modal-content h3 {
    color: #e5e5e5;
}

body.dark-mode .template-checkbox {
    background: #333;
}

body.dark-mode .template-checkbox:hover {
    background: #3a3a3a;
}

body.dark-mode .template-checkbox label {
    color: #e5e5e5;
}

body.dark-mode .template-checkbox .template-desc {
    color: #aaa;
}

body.dark-mode .modal-warning {
    background: #4a3f00;
    color: #ffc107;
}

/* =============================================================================
   DIET TABLE COLUMN WIDTHS (9 columns)
   ============================================================================= */
/* Food Item */
.diet-container .timetable th:nth-child(1),
.diet-container .timetable td:nth-child(1) {
    width: 130px;
    min-width: 110px;
}

/* Portion (g) */
.diet-container .timetable th:nth-child(2),
.diet-container .timetable td:nth-child(2) {
    width: 70px;
    min-width: 60px;
}

/* Type */
.diet-container .timetable th:nth-child(3),
.diet-container .timetable td:nth-child(3) {
    width: 90px;
    min-width: 80px;
}

/* Protein */
.diet-container .timetable th:nth-child(4),
.diet-container .timetable td:nth-child(4) {
    width: 65px;
    min-width: 55px;
}

/* Carbs */
.diet-container .timetable th:nth-child(5),
.diet-container .timetable td:nth-child(5) {
    width: 65px;
    min-width: 55px;
}

/* Fat */
.diet-container .timetable th:nth-child(6),
.diet-container .timetable td:nth-child(6) {
    width: 55px;
    min-width: 45px;
}

/* Calories */
.diet-container .timetable th:nth-child(7),
.diet-container .timetable td:nth-child(7) {
    width: 60px;
    min-width: 50px;
}

/* Comment */
.diet-container .timetable th:nth-child(8),
.diet-container .timetable td:nth-child(8) {
    width: 100px;
    min-width: 80px;
}

/* Actions */
.diet-container .timetable th:nth-child(9),
.diet-container .timetable td:nth-child(9) {
    width: 65px;
    min-width: 60px;
}

/* Centered text for diet table */
.diet-container .timetable th,
.diet-container .timetable td {
    text-align: center;
}

.diet-container .timetable input[type="text"] {
    text-align: left;
}

/* =============================================================================
   UPDATED FITNESS TABLE COLUMN WIDTHS (8 columns)
   ============================================================================= */
/* Exercise */
.fitness-container .timetable th:nth-child(1),
.fitness-container .timetable td:nth-child(1) {
    width: 130px;
    min-width: 110px;
}

/* Sets */
.fitness-container .timetable th:nth-child(2),
.fitness-container .timetable td:nth-child(2) {
    width: 55px;
    min-width: 45px;
}

/* Reps */
.fitness-container .timetable th:nth-child(3),
.fitness-container .timetable td:nth-child(3) {
    width: 55px;
    min-width: 45px;
}

/* kg */
.fitness-container .timetable th:nth-child(4),
.fitness-container .timetable td:nth-child(4) {
    width: 60px;
    min-width: 50px;
}

/* Duration */
.fitness-container .timetable th:nth-child(5),
.fitness-container .timetable td:nth-child(5) {
    width: 70px;
    min-width: 60px;
}

/* Burnt */
.fitness-container .timetable th:nth-child(6),
.fitness-container .timetable td:nth-child(6) {
    width: 65px;
    min-width: 55px;
}

/* Comment */
.fitness-container .timetable th:nth-child(7),
.fitness-container .timetable td:nth-child(7) {
    width: 100px;
    min-width: 80px;
}

/* Actions */
.fitness-container .timetable th:nth-child(8),
.fitness-container .timetable td:nth-child(8) {
    width: 65px;
    min-width: 60px;
}
